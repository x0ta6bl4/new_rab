# Настройка SFTP-соединения в FileZilla

## Проблема с подключением

Если при подключении к серверу через FileZilla вы получаете ошибку:

```
Статус: Соединяюсь с 185.42.163.126:13131...
Статус: Соединение установлено, ожидание приглашения...
Ответ: SSH-2.0-OpenSSH_9.2p1 Debian-2+deb12u4
Ошибка: Невозможно установить FTP соединение на SFTP сервер. Пожалуйста, выберите правильный протокол.
Ошибка: Критическая ошибка: Невозможно подключиться к серверу
```

Это означает, что вы пытаетесь использовать протокол FTP для подключения к серверу, который поддерживает только SFTP (SSH File Transfer Protocol).

## Правильная настройка подключения в FileZilla

1. Откройте FileZilla
2. Перейдите в **Файл > Менеджер сайтов** (или нажмите Ctrl+S)
3. Нажмите кнопку **Новый сайт**
4. Введите название для вашего подключения (например, "Мой SFTP сервер")
5. В разделе **Общие** настройте следующие параметры:
   - **Хост:** 185.42.163.126 (или ваш IP-адрес сервера)
   - **Порт:** 13131 (или порт вашего SSH-сервера)
   - **Протокол:** выберите **SFTP - SSH File Transfer Protocol**
   - **Тип входа:** выберите один из вариантов:
     - **Обычный** - для входа с логином и паролем
     - **Ключ** - для входа с использованием SSH-ключа

### Вход с использованием логина и пароля

Если вы выбрали тип входа **Обычный**:
1. Введите **Пользователь** (ваше имя пользователя на сервере)
2. Введите **Пароль** (ваш пароль)

### Вход с использованием SSH-ключа

Если вы выбрали тип входа **Ключ**:
1. Введите **Пользователь** (ваше имя пользователя на сервере)
2. В поле **Файл-ключ** укажите путь к вашему приватному ключу (например, `%USERPROFILE%\.ssh\deploy_key`)

## Дополнительные настройки

### Если используете нестандартный порт
Убедитесь, что в поле **Порт** указан правильный порт SSH-сервера (в вашем случае 13131).

### Если используете SSH-ключ с парольной фразой
При подключении FileZilla запросит парольную фразу для вашего ключа.

## Устранение неполадок

### Ошибка "Неизвестный хост"
При первом подключении FileZilla может выдать предупреждение о неизвестном хосте. Нажмите "Да" для добавления ключа хоста в список известных хостов.

### Ошибка "Невозможно открыть файл ключа"
Убедитесь, что:
1. Путь к файлу ключа указан правильно
2. Файл ключа имеет правильный формат (для Windows обычно это формат PuTTY .ppk или OpenSSH)
3. У вас есть права на чтение файла ключа

### Конвертация ключа в формат PuTTY
Если ваш ключ в формате OpenSSH, а FileZilla требует формат PuTTY (.ppk):
1. Скачайте и установите PuTTY
2. Запустите PuTTYgen
3. Нажмите **Load** и загрузите ваш OpenSSH ключ
4. Нажмите **Save private key** для сохранения в формате .ppk
5. Используйте этот .ppk файл в настройках FileZilla

## Проверка подключения

После настройки нажмите кнопку **Подключиться** для проверки соединения. При успешном подключении вы увидите содержимое вашего домашнего каталога на сервере в правой панели FileZilla.